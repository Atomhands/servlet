<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="padding-bottom:5px;">
    <span>输入手机号查找：</span><input type="text" id="key-phone"/>
    <input type="button" value="查找" onclick="_searchPhone()"/>
    <input type="button" value="重新加载" onclick="_reload()"/>
</div>
<div id="admin-list" class="mini-datagrid" style="width: 100%;height: 400px;" url="/admin/list"
     idField="adminId"
     sizeList="[5,10]" pageSize="5" showHeader="true" title="员工列表">
    <div property="columns">
        <div type="indexcolumn"></div>
        <div field="empId" sortField="ADMIN_ID" allowSort="true" width="120" headerAlign="center">员工编码</div>
        <div field="name" width="120" headerAlign="center">姓名</div>
        <div field="account" width="100" headerAlign="center">账号</div>
        <div field="phone" width="100" headerAlign="center">手机号</div>
        <div field="hireDate" width="100" headerAlign="center" dateformat="yyyy-MM-dd">入职日期</div>
        <div field="sal" width="100" headerAlign="center">薪资待遇</div>
    </div>

</div>

<script src="/static/miniui/boot.js"></script>
<script src="/static/js/jQuery-2.1.1.js"></script>
<script>
  mini.parse();
  let dataGrid = mini.get("admin-list");
  dataGrid.load();

  function _searchPhone() {
    let phone = $("#key-phone").val();
    dataGrid.load({phone});
  }

  function _reload() {
    dataGrid.load();
  }
</script>
</body>
</html>
